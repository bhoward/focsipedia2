<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-ds/trees" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.7.0"><title data-rh=true>Trees | FoCSipedia</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content=https://bhoward.github.io/focsipedia2/img/focsipedia-social-card.jpg><meta data-rh=true name=twitter:image content=https://bhoward.github.io/focsipedia2/img/focsipedia-social-card.jpg><meta data-rh=true property=og:url content=https://bhoward.github.io/focsipedia2/docs/ds/trees><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Trees | FoCSipedia"><meta data-rh=true name=description content="Binary Trees"><meta data-rh=true property=og:description content="Binary Trees"><link data-rh=true rel=icon href=/focsipedia2/img/favicon.ico><link data-rh=true rel=canonical href=https://bhoward.github.io/focsipedia2/docs/ds/trees><link data-rh=true rel=alternate href=https://bhoward.github.io/focsipedia2/docs/ds/trees hreflang=en><link data-rh=true rel=alternate href=https://bhoward.github.io/focsipedia2/docs/ds/trees hreflang=x-default><link data-rh=true rel=preconnect href=https://YNUYSORFOS-dsn.algolia.net crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css type=text/css integrity=sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn crossorigin=anonymous><link rel=stylesheet href=/focsipedia2/assets/css/styles.0594c773.css><script src=/focsipedia2/assets/js/runtime~main.db58920a.js defer></script><script src=/focsipedia2/assets/js/main.8a831b81.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/focsipedia2/><div class=navbar__logo><img src=/focsipedia2/img/SmartFoxIcon.jpeg alt="Smart Fox Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/focsipedia2/img/SmartFoxIcon.jpeg alt="Smart Fox Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">FoCSipedia</b></a><a class="navbar__item navbar__link" href=/focsipedia2/docs/236topics>Topics</a></div><div class="navbar__items navbar__items--right"><a href=https://github.com/bhoward/focsipedia2/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_pyhR><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_wfgR><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/focsipedia2/docs/attribution>Course Info</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/focsipedia2/docs/logic/intro>Logic</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/focsipedia2/docs/sets/concepts>Sets</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/focsipedia2/docs/fp/intro>Functional Programming</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/focsipedia2/docs/ds/lists>Lists, Trees, and Graphs</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/focsipedia2/docs/ds/lists>Sorting Lists</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/focsipedia2/docs/ds/recurrence>Running Time and Recurrences</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/focsipedia2/docs/ds/verification>Program Verification</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/focsipedia2/docs/ds/trees>Trees</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/focsipedia2/docs/ds/bst>Binary Search Trees and Heaps</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/focsipedia2/docs/ds/balance>Balanced Binary Search Trees</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/focsipedia2/docs/ds/graphs>Graphs</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/focsipedia2/docs/lang/languages>Formal Languages</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/focsipedia2/docs/scala>Features</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/focsipedia2/docs/reason>Supplementary Topics</a></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/focsipedia2/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Lists, Trees, and Graphs</span><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Trees</span><meta itemprop=position content=2></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Trees</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id=binary-trees>Binary Trees<a href=#binary-trees class=hash-link aria-label="Direct link to Binary Trees" title="Direct link to Binary Trees">​</a></h2>
<p>A <strong>binary tree</strong> is a data structure that is either empty or it consists of a root node with three pieces of data:
a value (often a number or a string), and two subtrees, one on the left and one on the right.
This can be expressed with the following recursive data type in Scala:<sup><a href=#user-content-fn-1 id=user-content-fnref-1 data-footnote-ref=true aria-describedby=footnote-label>1</a></sup></p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>enum</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token operator" style=color:#393A34>+</span><span class="token plain">T</span><span class="token punctuation" style=color:#393A34>]</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Empty</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">T</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> value</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> T</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> right</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">T</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">*</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> leaf</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">T</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">value</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> T</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">T</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Empty</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> value</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> Empty</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>val</span><span class="token plain"> demo </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">leaf</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">leaf</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>3</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>4</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> leaf</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>5</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// demo: Tree[Int] = Node(</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//   left = Node(left = Empty, value = 1, right = Empty),</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//   value = 2,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//   right = Node(</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//     left = Node(left = Empty, value = 3, right = Empty),</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//     value = 4,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//     right = Node(left = Empty, value = 5, right = Empty)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//   )</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// )</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>We use a type variable <code>T</code> as a parameter to specify the type of values in the tree.
The function <code>leaf</code> is a convenience, so that we can write <code>leaf(1)</code> for the tree with just the value 1 and two empty children instead of <code>Node(Empty, 1, Empty)</code>.
In this case, it will infer that the type parameter <code>T</code> should be <code>Int</code>, so we get a <code>Tree[Int]</code>.</p>
<p>Note the similarity to a list of type <code>List[T]</code>, which is either an empty list or a list node with a head value
(of type <code>T</code>) and a sublist of the rest of the elements (the tail).</p>
<p>The natural way to write a function that takes a binary tree is to use (surprise) Pattern Matching,
which corresponds to doing structural induction over the construction of the tree.
For example, suppose we want to know how many nodes a tree has:</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> size</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">T</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">t</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">T</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token builtin">Int</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  t </span><span class="token keyword" style=color:#00009f>match</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Empty </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> _</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> size</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> size</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">size</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Empty</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// res0: Int = 0</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">size</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">leaf</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"hello"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// res1: Int = 1</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">size</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">demo</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// res2: Int = 5</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>If we have a list with integer values, we might want to get the total of all the values in the tree:</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> total</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">t</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token builtin">Int</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  t </span><span class="token keyword" style=color:#00009f>match</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Empty </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> value</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> total</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> value </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> total</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">total</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Empty</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// res3: Int = 0</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">total</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">demo</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// res4: Int = 15</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>A useful function on trees will be to have a visualization of the tree.
Here is a simple rendering of a tree with <a href=/focsipedia2/docs/fp/doodle>Doodle</a>:</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>val</span><span class="token plain"> EMPTY_WIDTH </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>5</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>val</span><span class="token plain"> NODE_WIDTH </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>20</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>val</span><span class="token plain"> HSPACE </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>10</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>val</span><span class="token plain"> VSPACE </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>30</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// Compute the widths of the left and right subtrees of t</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> showTreeWidths</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">T</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">t</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">T</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token builtin">Double</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token builtin">Double</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  t </span><span class="token keyword" style=color:#00009f>match</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Empty </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">EMPTY_WIDTH </span><span class="token operator" style=color:#393A34>/</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> EMPTY_WIDTH </span><span class="token operator" style=color:#393A34>/</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> _</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>val</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">ll</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> lr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> showTreeWidths</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>val</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">rl</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> rr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> showTreeWidths</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">ll </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> lr </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> HSPACE</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> rl </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> rr </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> HSPACE</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> showTree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">T</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">t</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">T</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Image </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  t </span><span class="token keyword" style=color:#00009f>match</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Empty </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> Image</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">circle</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">EMPTY_WIDTH</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">fillColor</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Color</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">black</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> value</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>val</span><span class="token plain"> showLeft </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> showTree</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>val</span><span class="token plain"> showRight </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> showTree</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>val</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">_</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> lr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> showTreeWidths</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>val</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">rl</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> _</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> showTreeWidths</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>val</span><span class="token plain"> leftShift </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> lr </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> HSPACE</span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>val</span><span class="token plain"> rightShift </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> rl </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> HSPACE</span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>val</span><span class="token plain"> leftLine </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> Image</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">path</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">OpenPath</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">empty</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">lineTo</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">leftShift</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> VSPACE</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>val</span><span class="token plain"> rightLine </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> Image</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">path</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">OpenPath</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">empty</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">lineTo</span><span class="token punctuation" style=color:#393A34>(</span><span class="token operator" style=color:#393A34>-</span><span class="token plain">rightShift</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> VSPACE</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>val</span><span class="token plain"> leftImage </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> showLeft `on` leftLine</span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>val</span><span class="token plain"> rightImage </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> showRight `on` rightLine</span><br></span><span class=token-line style=color:#393A34><span class="token plain">      Image</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">text</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">value</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">toString</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> `on`</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        Image</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">square</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">NODE_WIDTH</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">fillColor</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Color</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">white</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> `on`</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        leftImage</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">originAt</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Landmark</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">topRight</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> `on`</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        rightImage</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">originAt</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Landmark</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">topLeft</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>val</span><span class="token plain"> treeDemo </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> showTree</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">demo</span><span class="token punctuation" style=color:#393A34>)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><img decoding=async loading=lazy alt=Doodle src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJcAAAB+CAYAAAAp1IMzAAAJd0lEQVR4Xu2dS6hNXxzHrzzDvd5RiEhKHoWBYmBAKMXAI0kGJGbyyowBiolHXYxEDJgykZgYeCTEVYSkKAOU5P36ae3uuZ2zztlrr71/39/ea5/z+9TO/Z+91net329/z1q/e+7Z+99GiiJEm/2CoqBQcyliqLkUMdRcihhqLkUMNZcihppLEUPNpYih5lLEKIW52tra4IciTymyjDYDWk9pTCmyjDYDWk9pTCmyjDYDWk9pTCmyjDYDWk9pTCmyjDYDWk9pTCmynGSGnz9/0rNnz+jfv3/2qYYk6SkYSpFllxnWrFlD7e3tNH78eBo7dix1dnbaTepw6Sk4SpFllxmuX79Onz59in4+efIkDRo0iD5+/Gi1qsWlp+AoRZZ9zXDr1q2o7ePHj+1TNfjqKTxKkWVfM2zcuJEmTJiQWHv56ik8SpFlHzMcPXqUhg4dSl1dXfapOnz0FD6lyHKSGU6fPk0dHR10+/Zt+1RDkvQUDKXIsssMV69epf79+9ONGzfsU7G49BQcpchynBl+//5NkydPpvnz59PDhw97jq9fv9pNa4jTU7CUIstxZjAfOZhz9mF+a3QRp6dgKUWW0WYwembVU2TBXjUhJMw1c+ZM718AlGxgr5oQEua6dOlS9Oeibdu29XzCr2DBXjUhJMxlMKYy5jImM2ZTsGCvmhB2wY44qjHbo9kmly1bRq9evao5p2SnFOZ69OgRjRo1KvpXClPgHz58mEaOHBn9qwU/n+DNZT5umDRpEl28eNE+JYJZucwKpgU/n6DN9efPH1q8eDHt3r3bPiWOFvx8gjaXMZUxlzFZEWjBzyNYc5lt0GyHSV/8ywMt+LMRpLnyKODTogV/eoIzV94FfFq04PcnKHMVWcCnRQv+ZIIyV9EFfFq04HcTjLlCKuDTogV/Y9jmsv+sgjjKSFLBb8eIOEKHPUN0kGi9vIkr+NFxofUkYM8QHSRaryjsgh8dF1pPAvYM0UGi9YqkuuBHx4XWk4A9Q3SQaL0QMNsjOi60ngTsGaKDROuFAjoutJ4E7Bn6BGlur3/79q39ckN89MoIOi60ngTsGbqCfPnyJa1cuZJGjBgR3Vvog0uvzPjE9fnz5+g+zNWrV9un6vDRKxr2DF1Bvnnzhi5fvkxbtmxRc3nEtX79eurXrx+tWrXKPlWHj17RsGfoE+TevXvVXAlxnT17NvoLhcmVmqsbnyDVXO64nj9/Hj2h586dO3To0CE1VwWfINVc8XGZ57nOnj2bDhw4EP23mqsKnyDVXPFxnTp1Kjpnvg2ydOlSmjJlCo0ePZq2bt1qN60hTi8k2DP0CVLNFR/XgwcP6Pjx4z3HwoULadasWXThwgW7aQ1xeiHBnqErSPP51vfv32nnzp00b9686Gf72wI2Lr0y4xvXjh07dFus4ArSPGnZnK8+9u3bZzerwaVXZnzjMm9ENVc36CDReqGAjgutJwF7hugg0XqhgI4LrScBe4boINF6oYCOC60nAXuG6CDReqGAjgutJwF7hiZI9NGM2DEijtCBz9DcvTNs2LDEu3h82zULqLvIUTp5ADfXsWPHaMOGDfbLDTHtTPtmB30XeVluw4Oba9q0aXTz5k375YaYdqZ9MyN1F3kZbiCGmiuLWdKYsYxImUDKtEig5sqyzaXZRsuG9PaF3m7RwMyVtUDP2i908iq88xonCzBzcVagLCteyOS9okivkFmBmYtTO2Wp1UKlqFpIqrbjADEXwhwcc4ZEURe5KFO7gJgLsa1xttVQKHp7yns7ToJtLlRBjtLJgv1nFcRRBPYcEAcHXm/CrjiIFTAL3CTaoPV8QY/L1eP1JmythKjdssBNog1azxf0uFw9Vm8JMyDN6gs3iTZoPV/Q43L1WL0ltjHkNusLN4k2aD1f0ONy9TL3lirApXRdcJNog9bzBT0uVy9zb8kVRmJFdJGUxPfv39PTp0+jW+V8SNKTAj0uVy9Vb3Pf4YIFC6hv3740YMAAOnfunN0EgrklbeDAgdE4c+bMoa6uLrsJFFcSzSOg2tvbaeLEidGKeuLECbtJHS49SVzjmidMm/PVR9L/nMGl50Oq3osWLaqZnEm6xIXPa5wKriSax0BVPm03F2j48OGJn7679CRxjWvmvmTJEnr37l3PkbQSu/R8SNW7d+/eNRfdPJnFGAFNXuNU8E3irl27aMaMGfbLdfjqoXGNa8y1YsUK+2UnLj0fUvXu1atXzUUfM2ZM9E5Gk9c4FVxJ/PXrFx05ciS6MNOnT6e7d+/aTepw6UniGteYy7xJly9fHm3t5uk6Sbj0fEjVu/LI68oxd+5cWrt2rd2MTV7jVHAl0VyETZs20dSpU6Onz5w5c8ZuUodLTxLXuOYRoufPn49i6ejo8MqnS8+HVL3NI6/NI37MyjJu3Djas2cPffv2zW7GJq9xKvgm8eDBg9SnT5/ot0cXvnpofMfdv39/1NbUXS589eLg9W4SfJP45MmTqK15zqsLXz00vuNeu3Ytanv//n37VA2+enHwejcJriTeu3cvWjV//PhB27dvj1bTFy9e2M1qcOlJ4hr3w4cP9PfvX/ry5QutW7eOBg8eHP3swqXnA693k+BKovlbp/lMzxTDpu7q7Oy0m9Th0pPENe7mzZujWmvIkCHRg/iuXLliN6nDpecDr3eT4Eqiebe/fv06cbWqxqUniWtcs0qZbT2pXqzGpecDr3eTwE2iDVrPF/S4XD1e7yaBm0QbtJ4v6HG5erzeTQI3iTZoPV/Q43L1eL2bBJNE9FEE9hwQBwde7ybF9ztlvu2Kwnd+vu3SouZqQJrvquX93bM0FB2HmqsBab7HL3EfAYqi41BzWWRJcpqLmBchxKHmssiyPaTZfvIihDjUXFVkLWyz9pMi63yy9otDzVUF552bZaWQIpQ41FxVcGqOLDWOFKHEoebqBpFUzkVFEVIcaq5uENsBZztCEVIcai7CFbIonaygxkfpqLkI9041IFaOrIQWh5qLcDWGAVHzZCW0OFreXIgk2iAvsi8hxtHy5kIs/zbI7cmXEONoaXOhClcbKd04pMbj6ra0ubjvTBcSK0kcocbRcuZqlsdAlSGOljNXXo9nkh5HWr8CZ5yWM1dej2eSHkdavwJnnJYzV16PZ5IeR1q/AmecljNXXo9nkh5HWr8CZ5yWM1dej2eSHkdavwJnnJYzl5Ifai5FDDWXIoaaSxFDzaWIoeZSxFBzKWKouRQx1FyKGGouRYz/SL05EpOPG00AAAAASUVORK5CYII=" width=151 height=126 class=img_ev3q></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=traversals>Traversals<a href=#traversals class=hash-link aria-label="Direct link to Traversals" title="Direct link to Traversals">​</a></h3>
<p>Processing a binary tree is often expressed as a <strong>traversal</strong>.
There are several common tree traversals:</p>
<ul>
<li><strong>Preorder</strong>: To process a non-empty tree, first process the value in its root node, then process the left child followed by the right child.</li>
<li><strong>Inorder</strong>: To process a non-empty tree, first process the left child, then the value in the root node, and finally the right child.</li>
<li><strong>Postorder</strong>: To process a non-empty tree, first process the left child, then the right child, and finish with the value in the root node.</li>
<li><strong>Level order</strong>: Process the value in the root node, then process the values in its children from left to right, then process its children's children from left to right, and so on, until there are no more nodes.</li>
</ul>
<p>The first three traversals have very easy recursive implementations. For example, here is the preorder traversal,
which takes a <code>Tree[T]</code> and a function <code>process: T => Unit</code> (the return type of <code>Unit</code> is a sign that we are
expecting <code>process</code> to have a side-effect, such as printing, instead of returning a value):</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> preOrder</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">T</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">t</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">T</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> process</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> T </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> </span><span class="token builtin">Unit</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token builtin">Unit</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  t </span><span class="token keyword" style=color:#00009f>match</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Empty </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> value</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      process</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">value</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      preOrder</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> process</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      preOrder</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">right</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> process</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">preOrder</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">demo</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> print</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// 21435</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>We will have to wait a bit to learn how to do the level order traversal.</p>
<p>To see an interesting connection between traversals and programming languages, we will consider a variation on binary trees called <strong>expression trees</strong>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=expression-trees>Expression Trees<a href=#expression-trees class=hash-link aria-label="Direct link to Expression Trees" title="Direct link to Expression Trees">​</a></h3>
<p>An expression tree represents the structure of an expression.
This could be an arithmetic expression, such as <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mo stretchy=false>(</mo><mn>1</mn><mo>+</mo><mn>2</mn><mo stretchy=false>)</mo><mo>⋅</mo><mn>3</mn></mrow><annotation encoding=application/x-tex>(1+2)\cdot 3</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:1em;vertical-align:-0.25em></span><span class=mopen>(</span><span class=mord>1</span><span class=mspace style=margin-right:0.2222em></span><span class=mbin>+</span><span class=mspace style=margin-right:0.2222em></span></span><span class=base><span class=strut style=height:1em;vertical-align:-0.25em></span><span class=mord>2</span><span class=mclose>)</span><span class=mspace style=margin-right:0.2222em></span><span class=mbin>⋅</span><span class=mspace style=margin-right:0.2222em></span></span><span class=base><span class=strut style=height:0.6444em></span><span class=mord>3</span></span></span></span>, or a boolean expression such as <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mo stretchy=false>(</mo><mi>p</mi><mo>∨</mo><mi>q</mi><mo stretchy=false>)</mo><mo>∧</mo><mi>r</mi></mrow><annotation encoding=application/x-tex>(p\lor q)\land r</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:1em;vertical-align:-0.25em></span><span class=mopen>(</span><span class="mord mathnormal">p</span><span class=mspace style=margin-right:0.2222em></span><span class=mbin>∨</span><span class=mspace style=margin-right:0.2222em></span></span><span class=base><span class=strut style=height:1em;vertical-align:-0.25em></span><span class="mord mathnormal" style=margin-right:0.03588em>q</span><span class=mclose>)</span><span class=mspace style=margin-right:0.2222em></span><span class=mbin>∧</span><span class=mspace style=margin-right:0.2222em></span></span><span class=base><span class=strut style=height:0.4306em></span><span class="mord mathnormal" style=margin-right:0.02778em>r</span></span></span></span>;
it also generalizes to expressions in a programming language, such as <code>if a &lt; b then c else d</code> in Scala.
For now we will limit our consideration to expressions with boolean operators and integer operands,
which can be described by the following recursive type:</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>enum</span><span class="token plain"> Expr</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Const</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">c</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> BinOp</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Expr</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> op</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token builtin">String</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> right</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Expr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> Expr</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">*</span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>val</span><span class="token plain"> sample </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> BinOp</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">BinOp</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Const</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"+"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> Const</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"*"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> Const</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>3</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// sample: Expr = BinOp(</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//   left = BinOp(left = Const(c = 1), op = "+", right = Const(c = 2)),</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//   op = "*",</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//   right = Const(c = 3)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// )</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Now we may define functions that perform preorder, inorder, and postorder traversals of expression trees
to produce string representations of an expression:</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> prefix</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">e</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Expr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token builtin">String</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  e </span><span class="token keyword" style=color:#00009f>match</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Const</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">n</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> n</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">toString</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> BinOp</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> op</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token builtin">String</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">format</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"%s(%s, %s)"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> op</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> prefix</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> prefix</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>infix</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">e</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Expr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token builtin">String</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  e </span><span class="token keyword" style=color:#00009f>match</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Const</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">n</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> n</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">toString</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> BinOp</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> op</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token builtin">String</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">format</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"(%s %s %s)"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>infix</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> op</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>infix</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> postfix</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">e</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Expr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token builtin">String</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  e </span><span class="token keyword" style=color:#00009f>match</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Const</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">n</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> n</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">toString</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> BinOp</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> op</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token builtin">String</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">format</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"%s %s %s"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> postfix</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> postfix</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> op</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">prefix</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">sample</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// res7: String = "*(+(1, 2), 3)"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>infix</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">sample</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// res8: String = "((1 + 2) * 3)"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">postfix</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">sample</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// res9: String = "1 2 + 3 *"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The preorder traversal of an expression tree gives the <strong>prefix</strong> form of the expression, where the operator comes in front of both of its operands.
With the extra parentheses and commas added above, you can see that this is our familiar function call notation: <code>+(1, 2)</code> is just the application of the addition function to the arguments <code>1</code> and <code>2</code>.</p>
<p>The inorder traversal of an expression tree gives the <strong>infix</strong> form of the expression, where the operator takes its usual position between its operands.
The extra parentheses are essential here, to avoid the ambiguity of whether <code>1 + 2 * 3</code> is an addition of <code>1</code> and <code>2 * 3</code>, or whether it is a multiplication of <code>1 + 2</code> by <code>3</code>.
In practical use we get around this by adopting conventions of <strong>precedence</strong>, saying for example that multiplication takes precedence over addition, so that <code>1 + 2 * 3</code> has an addition operator at the root.
In the sample expression tree, however, the multiplication is at the root, so we have to insert at least one pair of parentheses to get the correct expression: <code>(1 + 2) * 3</code>.</p>
<p>The postorder traversal of an expression tree gives the <strong>postfix</strong> form of the expression, which may not be as familiar.
Back in the Dark Ages<sup><a href=#user-content-fn-2 id=user-content-fnref-2 data-footnote-ref=true aria-describedby=footnote-label>2</a></sup> of computing, Hewlett-Packard made a series of powerful calculators that became very popular, particularly with engineers.
At the time, calculators were not able to handle arbitrarily complex infix expressions (many of them didn't even have parentheses…), and HP's solution was elegant: use postfix instead of infix!
They referred to this as Reverse Polish Notation (RPN) in honor of the logician Jan Łukasiewicz (1878–1956), who invented postfix in the 1920's as a way to write logical expressions without parentheses.</p>
<p>The key to interpreting a postfix expression is to imagine maintaining a <strong>stack</strong> of values as you read from left to right.
When you see a number, <em>push</em> that value onto the stack.
When you see an operator, since it must be following its two operands, <em>pop</em> two values from the stack, perform the operation, and <em>push</em> the result back on the stack.
For the sample above, <code>1 2 + 3 *</code>, you can check that the resulting value on the stack at the end of the expression is the expected <code>9</code>.</p>
<p>More recent uses of postfix expressions and stack-based evaluation are the PostScript page description language used by many printers (which also forms the basis of the PDF document format), and the Java Virtual Machine code produced by the Java compiler.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=exercises>Exercises<a href=#exercises class=hash-link aria-label="Direct link to Exercises" title="Direct link to Exercises">​</a></h2>
<ol>
<li>Write a Scala function <code>height[T](t: Tree[T]): Int</code> that computes the <strong>height</strong> of the tree <code>t</code>.
We define the height of an empty tree to be 0, and the height of a node is one more than the larger
of the heights of its children.
In Scala, the binary operator <code>a max b</code> computes the maximum of <code>a</code> and <code>b</code>.</li>
</ol>
<!-- -->
<section data-footnotes=true class=footnotes><h2 class="anchor anchorWithStickyNavbar_LWe7 sr-only" id=footnote-label>Footnotes<a href=#footnote-label class=hash-link aria-label="Direct link to Footnotes" title="Direct link to Footnotes">​</a></h2>
<ol>
<li id=user-content-fn-1>
<p>The <code>+</code> in <code>enum Tree[+T]</code> is there as a convenience, for reasons that we will mostly ignore.
If you want to know, it is marking <code>Tree</code> as a <strong>covariant</strong> type constructor, which means that if <code>S</code> is a
subtype of <code>T</code>, then <code>Tree[S]</code> will also be a subtype of <code>Tree[T]</code>.
The convenience comes in because the actual type of <code>Empty</code> is <code>Tree[Nothing]</code>, but since <code>Nothing</code> is a
subtype of every other type, this means that it also has type <code>Tree[T]</code> for any <code>T</code>, so we can use the same
empty tree value in any tree.
There are also <strong>contravariant</strong> type constructors, indicated with a <code>-</code>, where the subtyping goes the
other way around, but we will not need them here. <a href=#user-content-fnref-1 data-footnote-backref="" aria-label="Back to reference 1" class=data-footnote-backref>↩</a></p>
</li>
<li id=user-content-fn-2>
<p>The 1970's. See <a href=https://www.hpmuseum.org/rpn.htm target=_blank rel="noopener noreferrer">https://www.hpmuseum.org/rpn.htm</a> for more details on RPN. <a href=#user-content-fnref-2 data-footnote-backref="" aria-label="Back to reference 2" class=data-footnote-backref>↩</a></p>
</li>
</ol>
</section></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/bhoward/focsipedia2/edit/main/docs/ds/trees.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/focsipedia2/docs/ds/verification><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Program Verification</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/focsipedia2/docs/ds/bst><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Binary Search Trees and Heaps</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#binary-trees class="table-of-contents__link toc-highlight">Binary Trees</a><ul><li><a href=#traversals class="table-of-contents__link toc-highlight">Traversals</a><li><a href=#expression-trees class="table-of-contents__link toc-highlight">Expression Trees</a></ul><li><a href=#exercises class="table-of-contents__link toc-highlight">Exercises</a></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Docs</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/focsipedia2/docs/policies>Policies</a><li class=footer__item><a class=footer__link-item href=/focsipedia2/docs/attribution>Attribution</a></ul></div><div class="col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/bhoward/focsipedia2/ target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2025 <a href=https://github.com/bhoward>Brian T. Howard</a>. Built with <a href=https://docusaurus.io/>Docusaurus</a>. <a href=https://purl.org/focsipedia>FoCSipedia</a> is licensed under <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank rel="license noopener noreferrer" style=display:inline-block;>CC BY-NC-SA 4.0<img style=height:22px!important;margin-left:3px;vertical-align:text-bottom; src=https://mirrors.creativecommons.org/presskit/icons/cc.svg alt=""><img style=height:22px!important;margin-left:3px;vertical-align:text-bottom; src=https://mirrors.creativecommons.org/presskit/icons/by.svg alt=""><img style=height:22px!important;margin-left:3px;vertical-align:text-bottom; src=https://mirrors.creativecommons.org/presskit/icons/nc.svg alt=""><img style=height:22px!important;margin-left:3px;vertical-align:text-bottom; src=https://mirrors.creativecommons.org/presskit/icons/sa.svg alt=""></a></div></div></div></footer></div>