<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-ds/bst" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.7.0"><title data-rh=true>Binary Search Trees and Heaps | FoCSipedia</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content=https://bhoward.github.io/focsipedia2/img/focsipedia-social-card.jpg><meta data-rh=true name=twitter:image content=https://bhoward.github.io/focsipedia2/img/focsipedia-social-card.jpg><meta data-rh=true property=og:url content=https://bhoward.github.io/focsipedia2/docs/ds/bst><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Binary Search Trees and Heaps | FoCSipedia"><meta data-rh=true name=description content="Let us consider binary trees whose values can be ordered."><meta data-rh=true property=og:description content="Let us consider binary trees whose values can be ordered."><link data-rh=true rel=icon href=/focsipedia2/img/favicon.ico><link data-rh=true rel=canonical href=https://bhoward.github.io/focsipedia2/docs/ds/bst><link data-rh=true rel=alternate href=https://bhoward.github.io/focsipedia2/docs/ds/bst hreflang=en><link data-rh=true rel=alternate href=https://bhoward.github.io/focsipedia2/docs/ds/bst hreflang=x-default><link data-rh=true rel=preconnect href=https://YNUYSORFOS-dsn.algolia.net crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css type=text/css integrity=sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn crossorigin=anonymous><link rel=stylesheet href=/focsipedia2/assets/css/styles.0594c773.css><script src=/focsipedia2/assets/js/runtime~main.db58920a.js defer></script><script src=/focsipedia2/assets/js/main.8a831b81.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/focsipedia2/><div class=navbar__logo><img src=/focsipedia2/img/SmartFoxIcon.jpeg alt="Smart Fox Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/focsipedia2/img/SmartFoxIcon.jpeg alt="Smart Fox Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">FoCSipedia</b></a><a class="navbar__item navbar__link" href=/focsipedia2/docs/236topics>Topics</a></div><div class="navbar__items navbar__items--right"><a href=https://github.com/bhoward/focsipedia2/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_pyhR><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_wfgR><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/focsipedia2/docs/attribution>Course Info</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/focsipedia2/docs/logic/intro>Logic</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/focsipedia2/docs/sets/concepts>Sets</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/focsipedia2/docs/fp/intro>Functional Programming</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/focsipedia2/docs/ds/lists>Lists, Trees, and Graphs</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/focsipedia2/docs/ds/lists>Sorting Lists</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/focsipedia2/docs/ds/recurrence>Running Time and Recurrences</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/focsipedia2/docs/ds/verification>Program Verification</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/focsipedia2/docs/ds/trees>Trees</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/focsipedia2/docs/ds/bst>Binary Search Trees and Heaps</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/focsipedia2/docs/ds/balance>Balanced Binary Search Trees</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/focsipedia2/docs/ds/graphs>Graphs</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/focsipedia2/docs/lang/languages>Formal Languages</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/focsipedia2/docs/scala>Features</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/focsipedia2/docs/reason>Supplementary Topics</a></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/focsipedia2/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Lists, Trees, and Graphs</span><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Binary Search Trees and Heaps</span><meta itemprop=position content=2></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Binary Search Trees and Heaps</h1></header><p>Let us consider binary trees whose values can be ordered.
For concreteness, we will just take the value type to be <code>Int</code>, although
with a little more work (not relevant to what we need here) we could
parameterize the functions with any value type with an appropriate
comparison operation.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=binary-search-trees>Binary Search Trees<a href=#binary-search-trees class=hash-link aria-label="Direct link to Binary Search Trees" title="Direct link to Binary Search Trees">​</a></h2>
<p>If we add the restriction to binary trees that all of the values in the
left subtree of any node have to be less than (or equal to) the value in the node,
and all of the values in the right subtree have to be greater than (or equal to)
that value, then we get a <strong>binary search tree</strong>.</p>
<p>Here is our type definition for binary trees again, plus a function that checks
whether the binary search tree (BST) condition holds for a given <code>Tree[Int]</code>.
It works by checking that the root value is between <code>Int.MinValue</code> and <code>Int.MaxValue</code>
(which should be trivially true), and then recursively checking that each subtree
contains values in an appropriate restriction of that range.</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>enum</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token operator" style=color:#393A34>+</span><span class="token plain">T</span><span class="token punctuation" style=color:#393A34>]</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Empty</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">T</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> value</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> T</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> right</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">T</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> leaf</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">T</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">value</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> T</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">T</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Empty</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> value</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Empty</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> checkBST</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">t</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token builtin">Boolean</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic>// Check that all values in t are between min and max, inclusive,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic>// and that all subtrees satisfy the BST condition</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> aux</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">t</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> min</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> max</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token builtin">Boolean</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    t </span><span class="token keyword" style=color:#00009f>match</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Empty </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>true</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> value</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        min </span><span class="token operator" style=color:#393A34>&lt;=</span><span class="token plain"> value </span><span class="token operator" style=color:#393A34>&&</span><span class="token plain"> value </span><span class="token operator" style=color:#393A34>&lt;=</span><span class="token plain"> max </span><span class="token operator" style=color:#393A34>&&</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        aux</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> min</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> value</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&&</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        aux</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">right</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> value</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> max</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  aux</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">t</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">MinValue</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">MaxValue</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>val</span><span class="token plain"> demo </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">leaf</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>17</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>34</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">leaf</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>38</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>42</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> leaf</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>50</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// demo: Tree[Int] = Node(</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//   left = Node(left = Empty, value = 17, right = Empty),</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//   value = 34,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//   right = Node(</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//     left = Node(left = Empty, value = 38, right = Empty),</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//     value = 42,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//     right = Node(left = Empty, value = 50, right = Empty)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//   )</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// )</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">checkBST</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">demo</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// res0: Boolean = true</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Here is the <code>demo</code> tree rendered with the <code>showTree</code> function:</p>
<p><img decoding=async loading=lazy alt=Doodle src=data:image/png;base64,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 width=151 height=126 class=img_ev3q></p>
<p>The advantage of a binary search tree is that it provides a fast way to determine whether a given value is in the data structure.
If we just have a list of <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>N</mi></mrow><annotation encoding=application/x-tex>N</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0.6833em></span><span class="mord mathnormal" style=margin-right:0.10903em>N</span></span></span></span> elements, then the best we can do is a linear traversal that will take <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>O</mi><mo stretchy=false>(</mo><mi>N</mi><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>O(N)</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:1em;vertical-align:-0.25em></span><span class="mord mathnormal" style=margin-right:0.02778em>O</span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.10903em>N</span><span class=mclose>)</span></span></span></span> time.
By sorting the list, we can stop looking for an element as soon as we see something greater than or equal to it; on average this will require looking through only half of the list, but that is still <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>O</mi><mo stretchy=false>(</mo><mi>N</mi><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>O(N)</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:1em;vertical-align:-0.25em></span><span class="mord mathnormal" style=margin-right:0.02778em>O</span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.10903em>N</span><span class=mclose>)</span></span></span></span>.
If we had a way to access the <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msup><mi>i</mi><mtext>th</mtext></msup></mrow><annotation encoding=application/x-tex>i^\textrm{th}</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0.8491em></span><span class=mord><span class="mord mathnormal">i</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:0.8491em><span style=top:-3.063em;margin-right:0.05em><span class=pstrut style=height:2.7em></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord textrm mtight">th</span></span></span></span></span></span></span></span></span></span></span></span> element of the list in constant (<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>O</mi><mo stretchy=false>(</mo><mn>1</mn><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>O(1)</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:1em;vertical-align:-0.25em></span><span class="mord mathnormal" style=margin-right:0.02778em>O</span><span class=mopen>(</span><span class=mord>1</span><span class=mclose>)</span></span></span></span>) time, then we could do better on a sorted list by using binary search, but the linked list data structure does not permit quick access to an arbitrary element; you have to traverse the entire list to get to the <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msup><mi>i</mi><mtext>th</mtext></msup></mrow><annotation encoding=application/x-tex>i^\textrm{th}</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0.8491em></span><span class=mord><span class="mord mathnormal">i</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:0.8491em><span style=top:-3.063em;margin-right:0.05em><span class=pstrut style=height:2.7em></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord textrm mtight">th</span></span></span></span></span></span></span></span></span></span></span></span> node.</p>
<p>However, a binary search tree is arranged precisely to allow direct access to each of the elements needed when performing a binary search.
In a well-balanced tree, the root will be (close to) the middle element, where the search starts.
Each time we inspect a node, if we do not find the value we are looking for then we can narrow our search to one of the two subtrees.
The root of the selected subtree should be (close to) the middle element of half of the elements remaining to be searched.
Since we cut the set of values to be searched (the <strong>search space</strong>) roughly in half after each element we examine, we will only need to look at <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>O</mi><mo stretchy=false>(</mo><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>O(\log N)</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:1em;vertical-align:-0.25em></span><span class="mord mathnormal" style=margin-right:0.02778em>O</span><span class=mopen>(</span><span class=mop>lo<span style=margin-right:0.01389em>g</span></span><span class=mspace style=margin-right:0.1667em></span><span class="mord mathnormal" style=margin-right:0.10903em>N</span><span class=mclose>)</span></span></span></span> elements to decide whether our given value is present.
Because the logarithm function grows so slowly, this means that even for billions of data items we will only have to look at a few dozen of them!<sup><a href=#user-content-fn-1 id=user-content-fnref-1 data-footnote-ref=true aria-describedby=footnote-label>1</a></sup></p>
<p>Binary search is very easy to write by pattern matching on a tree:</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> search</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">t</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> x</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token builtin">Boolean</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  t </span><span class="token keyword" style=color:#00009f>match</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Empty </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>false</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> value</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> x </span><span class="token operator" style=color:#393A34>==</span><span class="token plain"> value then </span><span class="token boolean" style=color:#36acaa>true</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>else</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> x </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain"> value then search</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> x</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>else</span><span class="token plain"> search</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">right</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> x</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">search</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">demo</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>42</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// res2: Boolean = true</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">search</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">demo</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>43</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// res3: Boolean = false</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=worst-case-for-binary-search>Worst Case for Binary Search<a href=#worst-case-for-binary-search class=hash-link aria-label="Direct link to Worst Case for Binary Search" title="Direct link to Worst Case for Binary Search">​</a></h3>
<p>Of course, the calculations above about running time only apply if the tree is well-balanced.
In the worst case, suppose that the root of the tree had the smallest (or largest) value; then all of the
other values would be concentrated in just one of the subtrees.
If <em>every</em> node had that misfortune, then at each comparison we would only reduce the search space by 1.
That would mean that in the worst case we would have to examine every node in the tree: that would be <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>O</mi><mo stretchy=false>(</mo><mi>N</mi><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>O(N)</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:1em;vertical-align:-0.25em></span><span class="mord mathnormal" style=margin-right:0.02778em>O</span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.10903em>N</span><span class=mclose>)</span></span></span></span>, and we might as well be using a linked list!</p>
<p>You might think that this case is very unlikely, but consider the following function to build a binary search tree from a given list:</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> insert</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">t</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> x</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  t </span><span class="token keyword" style=color:#00009f>match</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Empty </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> leaf</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">x</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> value</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> x </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain"> value</span><br></span><span class=token-line style=color:#393A34><span class="token plain">      then Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">insert</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> x</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> value</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>else</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> value</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> insert</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">right</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> x</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> insertAll</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">t</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> nums</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> List</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  nums </span><span class="token keyword" style=color:#00009f>match</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Nil </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> t</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> head </span><span class="token operator" style=color:#393A34>::</span><span class="token plain"> tail </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> insertAll</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">insert</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">t</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> head</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> tail</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> buildBST</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">nums</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> List</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> insertAll</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Empty</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> nums</span><span class="token punctuation" style=color:#393A34>)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Here is what happens if we build a BST from an already sorted list:</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>val</span><span class="token plain"> badBST </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> buildBST</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">List</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>3</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>4</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>5</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>6</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>7</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>8</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>9</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// badBST: Tree[Int] = Node(</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//   left = Empty,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//   value = 1,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//   right = Node(</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//     left = Empty,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//     value = 2,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//     right = Node(</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//       left = Empty,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//       value = 3,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//       right = Node(</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//         left = Empty,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//         value = 4,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//         right = Node(</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//           left = Empty,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//           value = 5,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//           right = Node(</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//             left = Empty,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//             value = 6,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//             right = Node(</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//               left = Empty,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//               value = 7,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//               right = Node(</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//                 left = Empty,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//                 value = 8,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//                 right = Node(left = Empty, value = 9, right = Empty)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//               )</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//             )</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//           )</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//         )</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//       )</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//     )</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//   )</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// )</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><img decoding=async loading=lazy alt=Doodle src=data:image/png;base64,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 width=252 height=312 class=img_ev3q></p>
<p>It is not at all unusual to build a binary search tree from a collection that is already sorted, or even close to sorted, so a serious implementation of this data structure will have to do extra work to ensure that it stays balanced; we will see the details in the <a href=/focsipedia2/docs/ds/balance>next section</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=tree-sort>Tree Sort<a href=#tree-sort class=hash-link aria-label="Direct link to Tree Sort" title="Direct link to Tree Sort">​</a></h3>
<p>By combining the <code>buildBST</code> function with an inorder traversal that collects all of the elements of the tree back into a list, we get another way to sort a list of numbers:</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> inorderCollect</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">t</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> List</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  t </span><span class="token keyword" style=color:#00009f>match</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Empty </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> Nil</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> value</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      inorderCollect</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>++</span><span class="token plain"> List</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">value</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>++</span><span class="token plain"> inorderCollect</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> treeSort</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">nums</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> List</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> List</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> inorderCollect</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">buildBST</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">nums</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">treeSort</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">List</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>3</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>4</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>5</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>9</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>6</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>5</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// res5: List[Int] = List(1, 1, 2, 3, 4, 5, 5, 6, 9)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>This will have an average case running time of <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>O</mi><mo stretchy=false>(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>O(N\log N)</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:1em;vertical-align:-0.25em></span><span class="mord mathnormal" style=margin-right:0.02778em>O</span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.10903em>N</span><span class=mspace style=margin-right:0.1667em></span><span class=mop>lo<span style=margin-right:0.01389em>g</span></span><span class=mspace style=margin-right:0.1667em></span><span class="mord mathnormal" style=margin-right:0.10903em>N</span><span class=mclose>)</span></span></span></span>, and if we put some effort into ensuring that the intermediate tree were well-balanced then that would also be the worst-case time.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=heaps>Heaps<a href=#heaps class=hash-link aria-label="Direct link to Heaps" title="Direct link to Heaps">​</a></h2>
<p>Another interesting data structure related to the binary search tree is the (binary) heap.
Just as before, we will consider trees with <code>Int</code> values, but now the ordering condition will be that the root value is less than or equal to <em>all</em> of the rest of the values in the tree; as with the BST condition, this <strong>heap condition</strong> needs to hold recursively for every subtree.</p>
<p>Here is a function to check the heap condition:</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> checkHeap</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">t</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token builtin">Boolean</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> aux</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">t</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> min</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token builtin">Boolean</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    t </span><span class="token keyword" style=color:#00009f>match</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Empty </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>true</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> value</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        min </span><span class="token operator" style=color:#393A34>&lt;=</span><span class="token plain"> value </span><span class="token operator" style=color:#393A34>&&</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        aux</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> value</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&&</span><span class="token plain"> aux</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">right</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> value</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  aux</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">t</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">MinValue</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>val</span><span class="token plain"> heapDemo </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">leaf</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>42</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>17</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">leaf</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>50</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>34</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> leaf</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>38</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// heapDemo: Tree[Int] = Node(</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//   left = Node(left = Empty, value = 42, right = Empty),</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//   value = 17,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//   right = Node(</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//     left = Node(left = Empty, value = 50, right = Empty),</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//     value = 34,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//     right = Node(left = Empty, value = 38, right = Empty)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//   )</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// )</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">checkHeap</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">heapDemo</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// res6: Boolean = true</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><img decoding=async loading=lazy alt=Doodle src=data:image/png;base64,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 width=151 height=126 class=img_ev3q></p>
<p>Note that the ordering condition for a heap is somewhat looser than for a BST: there is no restriction on the relative values between the left and right subtrees, only between the root and its descendents.</p>
<p>The heap condition guarantees that the smallest value will always be at the root.
This makes the heap a good implementation of the concept of a <strong>priority queue</strong>.
Like an ordinary queue, values can be added and removed from a priority queue; instead of removing the value that has been in the queue the longest, however, the value removed from a priority queue will be the <em>smallest</em>.
(This is technically known as a <strong>minheap</strong>.
Reversing the test in the heap condition will give a <strong>maxheap</strong>, where the largest value is at the root and the corresponding priority queue always returns the largest remaining element.)</p>
<p>The most important operation on heaps is the <code>heapMerge</code>: given two heaps, combine their elements into a single heap. As usual, this is straightforward by pattern matching. In fact, here is a version known as the <strong>skew merge</strong> that has a surprising additional property:</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> heapMerge</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">h1</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> h2</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">h1</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> h2</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>match</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Empty</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> _</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> h2</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">_</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Empty</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> h1</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">l1</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> v1</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> r1</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">l2</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> v2</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> r2</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> v1 </span><span class="token operator" style=color:#393A34>&lt;=</span><span class="token plain"> v2</span><br></span><span class=token-line style=color:#393A34><span class="token plain">      then Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">heapMerge</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">h2</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> r1</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> v1</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> l1</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>else</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">heapMerge</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">h1</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> r2</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> v2</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> l2</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The new smallest element must be either the root of <code>h1</code> (<code>v1</code>) or <code>h2</code> (<code>v2</code>). After deciding to put that value at the root of the resulting tree, we have its two children plus the other heap to deal with, but we only have space for two subheaps. By merging the other heap with the right child, but putting the result on the left, the skew merge can be shown to be <strong>self-adjusting</strong>; that is, it will stay balanced enough that, at least over the long run, all operations can be performed in logarithmic time.</p>
<p>Using the <code>heapMerge</code> function, we can implement <code>heapInsert</code> and <code>removeMin</code> easily:</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> heapInsert</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">h</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> x</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> heapMerge</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">h</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> leaf</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">x</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> removeMin</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">h</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Option</span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>(</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  h </span><span class="token keyword" style=color:#00009f>match</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Empty </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> None</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Node</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> value</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      Some</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">value</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> heapMerge</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">left</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> right</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>val</span><span class="token plain"> Some</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">min</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> rest</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> removeMin</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">heapDemo</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// min: Int = 17</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// rest: Tree[Int] = Node(</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//   left = Node(</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//     left = Node(left = Empty, value = 42, right = Empty),</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//     value = 38,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//     right = Empty</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//   ),</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//   value = 34,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//   right = Node(left = Empty, value = 50, right = Empty)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// )</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><img decoding=async loading=lazy alt=Doodle src="data:image/png;base64,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" width=127 height=126 class=img_ev3q></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=heapsort>Heapsort<a href=#heapsort class=hash-link aria-label="Direct link to Heapsort" title="Direct link to Heapsort">​</a></h3>
<p>Finally, if we start with a list, insert each of the numbers in turn into an initially empty heap, and then repeatedly remove the smallest element from the heap until it is empty, we get another efficient sorting algorithm.
Known as <strong>Heapsort</strong>, it is guaranteed to be <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>O</mi><mo stretchy=false>(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>O(N\log N)</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:1em;vertical-align:-0.25em></span><span class="mord mathnormal" style=margin-right:0.02778em>O</span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.10903em>N</span><span class=mspace style=margin-right:0.1667em></span><span class=mop>lo<span style=margin-right:0.01389em>g</span></span><span class=mspace style=margin-right:0.1667em></span><span class="mord mathnormal" style=margin-right:0.10903em>N</span><span class=mclose>)</span></span></span></span>, as long as we can ensure the heap is relatively balanced.</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> heapInsertAll</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">h</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> nums</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> List</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  nums </span><span class="token keyword" style=color:#00009f>match</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Nil </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> h</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> head </span><span class="token operator" style=color:#393A34>::</span><span class="token plain"> tail </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> heapInsertAll</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">heapInsert</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">h</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> head</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> tail</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> buildHeap</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">nums</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> List</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> heapInsertAll</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Tree</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Empty</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> nums</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> removeAll</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">h</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Tree</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> List</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  removeMin</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">h</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>match</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> None </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> Nil</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> Some</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">min</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> rest</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>=></span><span class="token plain"> min </span><span class="token operator" style=color:#393A34>::</span><span class="token plain"> removeAll</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">rest</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> heapSort</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">nums</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> List</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> List</span><span class="token punctuation" style=color:#393A34>[</span><span class="token builtin">Int</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> removeAll</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">buildHeap</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">nums</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">heapSort</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">List</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>3</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>4</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>5</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>9</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>6</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>5</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// res9: List[Int] = List(1, 1, 2, 3, 4, 5, 5, 6, 9)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=exercises>Exercises<a href=#exercises class=hash-link aria-label="Direct link to Exercises" title="Direct link to Exercises">​</a></h2>
<ol>
<li>Consider the following tree:
<img decoding=async loading=lazy alt=Doodle src=data:image/png;base64,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pbGa4oUiKfenn34yq1evdn88liQex+/oSLhGzps3zy77u++++5oddtjBLFq0yN1lBBcvZ5J2/fLLL/Z73i+++GL3pRGSeJq48pYvX2723ntvs/POO5tNN93Uzqc0/aELFy8krlxaW41WZtl9993NxMSEOeqooxrftLh4En5HR8I1kt4Nq5NNv+OePXt2sic/NEm7Lr/8crPFFlvYdbibSOJp4sqjN6abbrrJ3q3Rh0CoDU0rkHLxQuLKpeWwaHlkase///5rjjzySDtuOVw8Cb+jI5E2klakPPzww90fj5DGy01Tu5YsWWL/EmvhwoVZJTl9Bzq99uabb07+7NRTTzVnn332wF6j6uKFxpX76KOP2jvOzz//3N5V0W95aJksDhdPwu/oSLhG/vXXX3aJ2fPPP9+uSPnee++5u4zg4uWMaxctGEArptKKnffee29WSU5/gUi36Y8//vjkz2hZKTrfnLp4oXHlbtiwwRx//PFm2223NQcffLC544473F1GcPEk/I6OhGskPeNceeWV5qCDDrJrVz311FPuLiO4eDmraxf10THHHGPuvvtu+/+5JTm54YYb7DP5k08+af9N+9KSRhwuXkhcufR4OWfOHHPCCSfY/WjVVEp8DhdPwu/oSKSNvOeee+waVjTbzpHGy01du+gKSK/Rp6Nolc4DDzzQviFec8017q5D6uKFwpX366+/2mfyk046ydx22202SVJdcZQrlx4x6KJEaJlkuqJff/31zl7DuHgSfkdHIm3kypUr7b5Lly51XxoijZebunZ98MEH5pFHHpncTjnlFDvhk9rElbQ8ekTbeuutzV133eW+NEQaT1tduTTRNmPGDPPMM89M/uzGG2+0b7qcunhSfkdHwjXy/fffN7///rtdfZI6bJNNNjFffvmlu9sQLl7OpO26+eabs7tdp8m36tOBDz74oE2W77//3tlrGBcvJK5c+iAUXc3pFp0m3uj5PPQdid/RkXCNPOSQQ8xWW21lJ5XouXzx4sXuLiO4eDmTtmvBggXZJfl5551nr9677bab3d566y13lxFcvJC4cunPqWl+hG7TZ86cac444ww7087h4kn4HR0J10i6Bfrmm28ar96DuHg5026XdrwmXHl0numjwPRbAikuXkiScmktdPqrNwlJPI7f0ZH4NtKlHS8V2u3SjtdEuzzteFLa5frG8zs6Et9GurTjpUK7XdrxmmiXpx1PSrtc33h+R0fi20iXdrxUaLdLO14T7fK040lpl+sbz+/oSKiR2luJ3DZqbDG5ZWtsfXDroLH58Ds6Eq3VKbTi5IK+NZT+TrrpW0ul+8UmrZd0v75I6yfdr63kk1z76237/rremB5++GEzf/5898dj0X60f0pyr3+l73YkneShvqi+ry/ej43+hmDwk1sc2o/2T0nu9a/03Y6kkzxUMoZ680hJl8HSZjCGlnv9Kym0I9kkD31brf0YkJout31tbitDy73+lRTakWSSx5ogi1VObF0ncLoep61rPboeF0rX+nQ9rk5ySR77Chv6jqEPPleCLlcebbnXv5JKO5JK8r6elUM9+/fF55muyzOkttzrX0mlHUkleV/J1tebSwgag8NncPrKvf6VlNqRTJL3fdsc+zEhFI3bPJ/bTF+517+SUju8k9z98zuNrQ9uHTS22LQmbLTitKVVrlacrrTK14rjPRK1B7N2PCntcrXjSWi98xONK1Fbude/klo7vEei9mDWjielXa52PAmtZzii8UzZVu71r6TWDu+RqD2YteNJaZerHa+JxmBwaQ7WJrnXv5JiO7xHovZg1o4npV2udrwmGrd1Ls3bzia517+SYju8R6L2YNaOJ6VdrnY8jtYEjStUXFeockLFrROqPN+43iNRezBrx5PSLlc7Hsf3nZ4T4srkyr3+lVTb4T0SucFMqzXS64Pb+vXr3d2GcPFC4so9+eSTR9pB76wcLp6GjRs32nptvvnm9iupn376aXcXFcuWLbPfcU7l0GqcK1ascHfpJPf6V3Joh/dI5AYzJTl9r/R33303udGSrRwuXkhcufSVz5988snkRutLn3baae5uQ7h4Gqj8wTcdWqO9zYmXClVOqLiu0OWEjl/xKcd7JFKBdSjJabXRNrh4IUnLpVVTaW3spg6Wxutq+vTpQyedFpdoeuPpIlQ5oeK6QpcTOn7FpxzvkUgF1qEkp8qce+65ZtGiRXZ1zSZcvJAk5dLfuB999NHmuuuuc18aIYnng5aDGjzpu+66q5k9e7a7m7dQ5YSK6wpdTuj4FZ9yvEciFVhn1apVdnE3WsWRloS59NJL3V1GcPFCkpRLEx8TExNm3bp17ksjJPF80OL1gyf9uOOOE/VvW6HKCRXXFbqc0PErPuV4j0QqUIJWoKR96bmcI42nralcmjCkyTa6I5FoiueL1tSi1TDpHX7PPfe0y/nSwo/aQpUTKq4rdDmh41d8yvEeidLB/Nprr9l9ly9f7r40RBpPW1O5t99+u53ZjLV+FYAW75HIDeYffvjBLlRHC8hfdtlldiVH+jeHixdSU7n0DERLzko1xQOIxXskcoP5qquuss/is2bNMnPnzjWvvPKKu8sILl5IXLn0azN6fcmSJe5Ltbh4ADF5j0RuMNNVe+XKlWbt2rXuS7W4eCFpl6sdD6Ar75GoPZi140lpl6sdD6Ar75GoPZi140lpl6sdD6Ar75GoPZi140lpl6sdD6Ar75FIg1l764NbB40NIAXqI1H62Vfpfn2R1k+6H0Bf1JO8zWdqfT4jG1op7QBQT/I230cV4vuwtJTSDgDVJO8y2NskUyyltAOAqCZ5l9vWNrfFsZTSDgCiluRdJ6C6HhdK1/p0PQ4gNLUk97mSdblyhlJKOwAqaknu80za5Rk4lFLaAVBRSXKNwe2TXFpKaQfAIJUk17hN9blN1lJKOwAGeSe51oSTVpyutMrXigOgxTvJNa9cGlfSrkppB4DLO8k1n0E1nom7KqUdAC6vJA8xmDWTTaqUdgCM45XkIW5LNW+bpUppB8A4nZM81ARTqLh1QpUXKi5AW52TPOSVKsSVtU4p7QCo0yrJc1imVaKUdgBItEpyn+VT2whdTuj4lVjlAHBaJbnP8qlthC4ndPxKrHIAOK2S3Gf51DZClxM6fiVWOQCcVknus3xqG6HLCR2/EqscAE6rJPdZPrWN0OWEjl+JVQ4Ap1WSA0B+kOQAhUOSAxQOSQ5QOCQ5QOGQ5ACFQ5IDFA5JDlA4JDlA4ZDkAIX7H7iodNVNCc18AAAAAElFTkSuQmCC width=249 height=157 class=img_ev3q></li>
</ol>
<p>List the values according to the preorder, inorder, postorder, and level order traversals.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Answer</summary><div><div class=collapsibleContent_i85q><p>Preorder: 1, 2, 3, 5, 7, 4, 6, 9, 8<p>Inorder: 5, 3, 7, 2, 4, 1, 9, 6, 8<p>Postorder: 5, 7, 3, 4, 2, 9, 8, 6, 1<p>Level order: 1, 2, 6, 3, 4, 9, 8, 5, 7</div></div></details>
<ol start=2>
<li>Show the result of removing the minimum item from the tree in Exercise 1, treating it as a binary heap (you may use either the skew merge function described above or the complete binary tree implementation described in class).</li>
</ol>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Answer</summary><div><div class=collapsibleContent_i85q><p>Using the skew merge, the minimum is 1 and the remaining tree is:
<img decoding=async loading=lazy alt="tree with 2 at the root, 4 as its left child, and the 3,5,7 subtree as its right child; the 4 node has the 6,9,8 subtree as its left child and an empty right child" src="data:image/png;base64,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" width=225 height=157 class=img_ev3q><p>Using the complete tree implementation, the minimum is 1 and the remaining tree is:
<img decoding=async loading=lazy alt="tree with 2 at the root, 3 as its left child, and the 6,9,8 subtree as its right child; the 3 node has 5 as its left child and 4 as its right child, while the 5 has 7 as its left child and an empty right child" src="data:image/png;base64,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utDxQqHzouNVQedDxwuFzquNp9s6EW0nXeh4odB50fGqVOWT38HJ9HHffvut+9JIVfFiCcn73Xff2YmAQoTE89FtnYivkzJLkrw+eamantoXL6aQvD/++KOZO3euOf/8892XhoTEQ/Lle/PNN82ee+5pdtppJ7PJJpvYGZSqfhHvixeTL69MeSDf7L3bbruZ7bff3hx++OGVJxVfvBC6rRPxdVKK8NRTTzVffvnlxFI1kacvXkwheS+++GKz+eab23n4qoTEQ/LlkxPHtddea8dePiQtfaiaQckXLyZf3qVLl9rp16Qf8lWXhx12mD3GfHzxQui2TsTXSRkgmS2pDl+8mKryLlu2zH6S4+abb+5UEcp3gMprr7zyysTPTjrpJHP66adPWmtYWbzYfHkfeughOxHshx9+aK9K5syZY5YvX+6uNsAXL4Ru60R8nZQilG/GPvPMM+0MulVTZQlfvJh8eeULbaUfMuPQnXfe2aki3Lhxo70Mffjhhyd+Nn/+fDuDkk9ZvNh8eWXi0WOOOcZss8025sADDzS33nqru8oQX7wQuq0T8XXyk08+MY8//ridumzmzJnmwgsvdFcZ4osXU1leOXEceeSR5vbbb7f/37UiFFdffbW9J3zkkUfsv2Vd+cp6H1+8mHx55WGMTMV97LHH2vVk1icpTB9fvBC6rRMJ7eRtt91m15X7Qp/QeGhleeUdRF6TT/fLLEP77befnezk8ssvd1cdUBYvFl++n3/+2d4THn/88eamm26yB3GuMyb58soltJzQhUzDJu+IV111lbPWIF+8ELqtEwnt5IsvvmjXlSd1PqHx0Mryrl692jzwwAMTy4knnmgfCOT2YCM0n8xsvOWWW9qTok9oPLSyvPIgRiYelSurgszCJSdFn7J4oXRbJ+Lr5DfffGMHT87EF110kT1zyb99fPFiCs173XXXde5yVB7OyL2huPfee+3B/NVXXzlrDfLFi8mXd8GCBfbdUC5B5cGM3B/GfkfXbZ2Ir5OXXXaZvRecNWuWfRjwwgsvuKsM8cWLKTTv9ddf37kiPOuss+y736677mqXV1991V1liC9eTL68K1eutPfncjKX40p+/SVPSn188ULotk7E10l515PZc6umr57MFy8mdF50vCq+fHI1snbtWvuUN5QvXkwheWUuRPnUTIiQeD66rRPRdtKFjhcKnRcdrwo6HzpeKHRebTzd1oloO+lCxwuFzouOVwWdDx0vFDqvNp5u60S0nXSh44VC50XHq4LOh44XCp1XG0+3dSLSSfTSBrcNiCUlNzdiaYPbBsSiods6kabfnizfqiWfA2zrW72qhLYvdL3UQtsVul5bQtsXul5d2Reh9uvpFi1aZO6//373x1mQdkn7QuTYj663v9B2P7IuQsQXtcon++fNm+f+OAvSrsl/eeCTYz+63v5C2/3IughR39JcZ5BTabIzc+pH19tfyKEf2RYh8lua61xupNLksianfnS9/YUc+pFlETZ9EFMm1g11U03b03Q7tKbtaLpdLE3b03S7MtkVofZBTJkmZ7xYNGfSHPrR9fYXculHVkWIeBBTpsm1fyyae4oc+tH19hdy6UdWRYh6EFNGM+goiJ3XZj+63v5CTv3IpgiRD2LKaC4/UBCXMW32o+vtL+TUD3URuh/fQSyxoG+o60LlR8WpC5UXFacpVH5UHPURjy4adDwX4gzYFOrMKdroR9fbX8itH+ojHl006HguxL1AU6h7CNFGP7re/kJu/VAf8eiiQccbBbkTQiF2litlP7re/kKO/VAf8eiiQccbBXk5Egpx2eJK2Y+ut7+QYz/URzy6aNDxRkHdUIeKlS9WXFesPLHilomVTxtXfcSjiwYdr0yMM2IZ7ZnSJ0U/ut7+Qq79UB/xvqI54YQTBn71IIucMXx88ZBWrFhhvxtzs802s7PwrFmzxl1F5ddff7X9l/jTp083jz32mLsKRKx+dL39hS70Q33E+4pm3bp15r333ptYZN63k08+2V1tgC8ekrRj8slhxowZtQauSuz4hVh5YsV1xc4TO35Bk0d9xEvCEKtWrbJz1lU1LDSe1rRp0wYGTWZEqjpB1BE7fiFWnlhxXbHzxI5f0ORRH/GSsIp8FvSII44wV155pfvSkJB4CFOnTh0YtF122cXMnj3bXa2x2PELsfLEiuuKnSd2/IImj/qIl4RV5IZVph6umnZYhMRDkMkfJw/a0UcfHTStWqjY8Qux8sSK64qdJ3b8giaP+oiXhD4yf7w8jJEJPENUxUOROQdkth05g+2+++52Oq8NGza4qzUWO34hVp5YcV2x88SOX9DkUR/xVUVzyy232CdGqb7Xn6hr1Ed8VdHItXHV3OWTVcUj6hv1Ee8rGvm1hLy+bNky96VSvnhEfaQ+4tFFg45HlDv1EY8uGnQ8otypj3h00aDjEeVOfcSjiwYdjyh36iNeiga9EI0T+BEf+rdVoesR9R28COv8zZbmb7CI+gJehHW+byPG930QdQ20CJsUVZ2iJeojaBE2ubysc/lK1EewImz6oKXpdkR9AStCzTtak3dQor6AFaHm3q7JvSRRX0CKEFFEmiIm6jJIESIuJzWXs0Rdpi5C1IMVVByirlEXIfIdDPGOStQ16iJE3ssh7i2JukZVhDGKBlnURF2gKsIYl4/Iy1uiLmhchLEepMSKS5SrxkUY8x0rxjssUa5qFWEXppki6ppaRaiZ/qmOVHmIclCrCDXTP9WRKg9RDmoVoWb6pzpS5SHKQa0i1Ez/VEeqPEQ5qFWEmumf6kiVhygHtYqQiPBYhEQtYxEStYxFSNQyFiFRy1iERC1jERK1jEVI1DIWIVHLWIRELfsHH9rb8ru2bGUAAAAASUVORK5CYII=" width=225 height=157 class=img_ev3q></div></div></details>
<ol start=3>
<li>Suppose you tried to use the tree from Exercise 1 as a binary search tree. For which values would the <code>search</code> function return <code>true</code>?</li>
</ol>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Answer</summary><div><div class=collapsibleContent_i85q><p>Searching for 1, 6, and 8 would be successful.
Searching for any of the other numbers would result in the search looking at the wrong subtree at some point.</div></div></details>
<!-- -->
<section data-footnotes=true class=footnotes><h2 class="anchor anchorWithStickyNavbar_LWe7 sr-only" id=footnote-label>Footnotes<a href=#footnote-label class=hash-link aria-label="Direct link to Footnotes" title="Direct link to Footnotes">​</a></h2>
<ol>
<li id=user-content-fn-1>
<p>A nice rule of thumb is that every factor of 1000 adds ten to the number of comparisons in binary search, since <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mn>1000</mn><mo>≈</mo><mn>10</mn></mrow><annotation encoding=application/x-tex>\log_2 1000\approx 10</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0.9386em;vertical-align:-0.2441em></span><span class=mop><span class=mop>lo<span style=margin-right:0.01389em>g</span></span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.207em><span style=top:-2.4559em;margin-right:0.05em><span class=pstrut style=height:2.7em></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2441em><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.1667em></span><span class=mord>1000</span><span class=mspace style=margin-right:0.2778em></span><span class=mrel>≈</span><span class=mspace style=margin-right:0.2778em></span></span><span class=base><span class=strut style=height:0.6444em></span><span class=mord>10</span></span></span></span>. <a href=#user-content-fnref-1 data-footnote-backref="" aria-label="Back to reference 1" class=data-footnote-backref>↩</a></p>
</li>
</ol>
</section></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/bhoward/focsipedia2/edit/main/docs/ds/bst.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/focsipedia2/docs/ds/trees><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Trees</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/focsipedia2/docs/ds/balance><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Balanced Binary Search Trees</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#binary-search-trees class="table-of-contents__link toc-highlight">Binary Search Trees</a><ul><li><a href=#worst-case-for-binary-search class="table-of-contents__link toc-highlight">Worst Case for Binary Search</a><li><a href=#tree-sort class="table-of-contents__link toc-highlight">Tree Sort</a></ul><li><a href=#heaps class="table-of-contents__link toc-highlight">Heaps</a><ul><li><a href=#heapsort class="table-of-contents__link toc-highlight">Heapsort</a></ul><li><a href=#exercises class="table-of-contents__link toc-highlight">Exercises</a></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Docs</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/focsipedia2/docs/policies>Policies</a><li class=footer__item><a class=footer__link-item href=/focsipedia2/docs/attribution>Attribution</a></ul></div><div class="col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/bhoward/focsipedia2/ target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2025 <a href=https://github.com/bhoward>Brian T. Howard</a>. Built with <a href=https://docusaurus.io/>Docusaurus</a>. <a href=https://purl.org/focsipedia>FoCSipedia</a> is licensed under <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank rel="license noopener noreferrer" style=display:inline-block;>CC BY-NC-SA 4.0<img style=height:22px!important;margin-left:3px;vertical-align:text-bottom; src=https://mirrors.creativecommons.org/presskit/icons/cc.svg alt=""><img style=height:22px!important;margin-left:3px;vertical-align:text-bottom; src=https://mirrors.creativecommons.org/presskit/icons/by.svg alt=""><img style=height:22px!important;margin-left:3px;vertical-align:text-bottom; src=https://mirrors.creativecommons.org/presskit/icons/nc.svg alt=""><img style=height:22px!important;margin-left:3px;vertical-align:text-bottom; src=https://mirrors.creativecommons.org/presskit/icons/sa.svg alt=""></a></div></div></div></footer></div>